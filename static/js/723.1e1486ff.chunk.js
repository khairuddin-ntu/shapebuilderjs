!function(){"use strict";var e={1723:function(e,n,t){var r=t(885),i=t(7762),s=t(7760),u=t(2982),o=t(7326),a=t(6274),c=t(9359),l=t(136),f=t(9388),h=t(3144),p=t(5671),v=(0,c.Z)("name"),d=(0,c.Z)("imageFileName"),g=(0,c.Z)("functionInputs"),Z=(0,c.Z)("parameters"),w=function(){function e(n,t,r,i){(0,p.Z)(this,e),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),(0,a.Z)(this,v)[v]=n,(0,a.Z)(this,d)[d]=t,(0,a.Z)(this,g)[g]=r,(0,a.Z)(this,Z)[Z]=i}return(0,h.Z)(e,[{key:"name",get:function(){return(0,a.Z)(this,v)[v]}},{key:"imageFileName",get:function(){return(0,a.Z)(this,d)[d]}},{key:"functionInputs",get:function(){return(0,a.Z)(this,g)[g]}},{key:"parameters",get:function(){return(0,a.Z)(this,Z)[Z]}}]),e}(),b=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;(0,p.Z)(this,e),this.start=0,this.end=1,this.name=n,this.resolution=t}return(0,h.Z)(e,[{key:"range",get:function(){return this.end-this.start}},{key:"asObject",value:function(){return{name:this.name,start:this.start,end:this.end,resolution:this.resolution,get range(){return this.end-this.start}}}}]),e}(),m=["x","y","z"],y=/^\s*$/,k="2d-render",x="3d-render",V=(new w("Sine Wave","sine_wave.png",["8(2u-1)","2sin(10u*pi)","0"],[new b("u",100)]),new w("Plane","plane.png",["3(2u-1)","0","3(2v-1)"],[new b("u",10),new b("v",10)]),new w("Sphere (Surface)","sphere.png",["2.5cos(-pi/2+u*pi)cos(-pi+2v*pi)","2.5cos(-pi/2+u*pi)sin(-pi+2v*pi)","2.5sin(-pi/2+u*pi)"],[new b("u"),new b("v")]),new w("Cube (Solid)","cube.png",["1.5(2u-1)","1.5(2w-1)","1.5(2v-1)"],[new b("u",3),new b("v",3),new b("w",3)]),(0,h.Z)((function e(n,t){(0,p.Z)(this,e),this.input=n,this.index=t}))),P=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,p.Z)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))).isNegated=!1,e}return(0,h.Z)(t,[{key:"nonNegatedInput",get:function(){return this.isNegated?this.input.substring(1):this.input}}]),t}(V),O=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(){return(0,p.Z)(this,t),n.apply(this,arguments)}return(0,h.Z)(t)}(P),j=(0,c.Z)("absoluteValue"),z=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e,r){var i;return(0,p.Z)(this,t),i=n.call(this,e,r),Object.defineProperty((0,o.Z)(i),j,{writable:!0,value:void 0}),e.endsWith("pi")?((0,a.Z)((0,o.Z)(i),j)[j]=Math.PI,i.isNegated&&((0,a.Z)((0,o.Z)(i),j)[j]=-(0,a.Z)((0,o.Z)(i),j)[j])):(0,a.Z)((0,o.Z)(i),j)[j]=parseFloat(e),i}return(0,h.Z)(t,[{key:"value",get:function(){return(0,a.Z)(this,j)[j]*(this.isNegated?-1:1)}}]),t}(P),I=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e,r){var i;return(0,p.Z)(this,t),(i=n.call(this,e,r)).childTokens=[],i.suffixLength=1,i.prefixLength=i.input.split("(")[0].length+1,i}return(0,h.Z)(t,[{key:"childInput",get:function(){return this.input.substring(this.prefixLength,this.input.length-this.suffixLength)}},{key:"addChildTokens",value:function(e){var n;(n=this.childTokens).push.apply(n,(0,u.Z)(e))}},{key:"processChildrenValue",value:function(e){var n=this.isNegated?-1:1;switch(this.input.substring(0,this.prefixLength-1)){case"sin":return Math.sin(e)*n;case"cos":return Math.cos(e)*n;case"tan":return Math.tan(e)*n;default:return e}}}]),t}(P),N=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e,r){var i;switch((0,p.Z)(this,t),i=n.call(this,e,r),e){case"+":case"-":i.precedence=11;break;default:i.precedence=12}return i}return(0,h.Z)(t,[{key:"processArithmetic",value:function(e,n){switch(this.input){case"+":return e+n;case"-":return e-n;case"/":return e/n;default:return e*n}}}]),t}(V),C=function(e){return y.test(e)},M=/(sin|cos|tan)/,T=/\d+(\.\d+)?/g,S=/pi/g,F=/[+\-*/]/g,L=/\s+/g;function D(e,n){var t=A(e,n),i=(0,r.Z)(t,2),s=i[0],u=i[1];if(u)return[null,u];var o=E(s);return o?[null,o]:[s,null]}function A(e,n){var t,s=[],u=n,o=function(e,n){return s.push(new z(e,n))," ".repeat(e.length)},a=function(e){for(var n,t,r,i,s=[],u=0;u<e.length;u++){if(")"===(t=e[u]))return[s,"Extra closing bracket at index "+u];if("("===t){n=0;for(var o=u+1;o<e.length;o++)if(")"===(r=e[o])){if(!(n>0)){if(o===u+1)return[s,"Bracket at index "+u+" cannot be empty"];i=u-(u>=3&&M.test(e.substring(u-3,u))?3:0),s.push(new I(e.substring(i,o+1),i)),u+=o-u;break}if(o===e.length-1)return[s,"Missing closing bracket for index "+u];n--}else{if(o===e.length-1)return[s,"Missing closing bracket for index "+u];"("===r&&n++}}}return[s,null]}(u),c=(0,r.Z)(a,2),l=c[0],f=c[1];if(f)return[s,f];var h,p=(0,i.Z)(l);try{for(p.s();!(h=p.n()).done;){var v=h.value,d=A(e,v.childInput),g=(0,r.Z)(d,2),Z=g[0],w=g[1];if(w)return[s,w];v.addChildTokens(Z),s.push(v),t=v.index+v.input.length,u=u.substring(0,v.index)+" ".repeat(v.input.length)+u.substring(t)}}catch(k){p.e(k)}finally{p.f()}u=(u=(u=u.replace(T,(function(e,n,t){return o(e,t)}))).replace(S,o)).replace(F,(function(e,n){return s.push(new N(e,n))," ".repeat(e.length)}));var b,m=(0,i.Z)(e.map((function(e){return new RegExp(e.name)})));try{for(m.s();!(b=m.n()).done;){var y=b.value;u=u.replace(y,(function(e,n){return s.push(new O(e,n))," ".repeat(e.length)}))}}catch(k){m.e(k)}finally{m.f()}return u=u.trim(),C(u)?[s.sort((function(e,n){return e.index-n.index})),u]:[s,"Invalid input: "+u.split(L)[0]]}function E(e){for(var n,t,r,i,s=e.length,u=0;u<s;u++){if((t=e[u])instanceof I&&(i=E(t.childTokens)))return i;if(n=u>0?e[u-1]:null,t instanceof P&&n instanceof P)e.splice(u,0,new N("*",t.index)),u+=1,s+=1;else if(r=u<e.length-1?e[u+1]:null,t instanceof N){if("-"===t.input&&!(n instanceof P)&&r instanceof P){r.isNegated=!0,e.splice(u,1),s-=1;continue}if(!(r instanceof P)){if(r instanceof N&&"-"===r.input)continue;return'Invalid token after "'+t.input+'"'}if(!(n instanceof P))return'Invalid token before "'+t.input+'"'}}}function B(e,n){var t;return U(e=e.map((function(e){return e instanceof I?e.processChildrenValue(B(e.childTokens,n)):e instanceof z?e.value:e instanceof O&&(t=n.find((function(n){return n.name===e.input})))?t.value*(e.isNegated?-1:1):e})),12),U(e,11),e[0]}function U(e,n){var t,r,i=e.length;for(r=0;r<i;r++)(t=e[r])instanceof N&&t.precedence===n&&(e[r-1]=t.processArithmetic(e[r-1],e[r+1]),e.splice(r,2),r-=1,i-=2)}var W=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(){return(0,p.Z)(this,t),n.apply(this,arguments)}return(0,h.Z)(t)}((0,t(7112).Z)(Error)),J=1e-5;function R(e,n){var t,u,o=[],a=Date.now(),c=(0,i.Z)(e.entries());try{for(c.s();!(u=c.n()).done;){var l=(0,r.Z)(u.value,2),f=l[0],h=l[1];if(t=m[f],C(h))throw new W("Function ".concat(t," cannot be blank"));var p=D(n,h),v=(0,r.Z)(p,2),d=v[0],g=v[1];if(g)throw new W(g);if(!d)throw new W("Unknown error while parsing function ".concat(t));o.push(d)}}catch(Z){c.e(Z)}finally{c.f()}console.log("Time taken to parse functions = "+(Date.now()-a)+"ms"),1===n.length?postMessage(function(e,n){for(var t={type:k,points:[]},r=[{name:n.name,value:-1}],i=n.start;i<=n.end;i+=n.range/n.resolution)r[0].value=i,t.points.push(new s.Pa4(B(e[0],r),B(e[1],r),B(e[2],r)));return t}(o,n[0])):postMessage(function(e,n){var t={type:x,indices:[],vertices:[],normals:[],uvs:[]},r=n.map((function(e){return{name:e.name,value:-1}})),i=Date.now();switch(n.length){case 2:!function(e,n,t,r){for(var i,u,o,a,c,l,f=new s.Pa4,h=new s.Pa4,p=new s.Pa4,v=new s.Pa4,d=new s.Pa4,g=r.resolution+1,Z=0;Z<=t.resolution;Z++){i=Z/t.resolution;for(var w=0;w<=r.resolution;w++)n(i,u=w/r.resolution,h),e.vertices.push(h.x,h.y,h.z),i-J>=0?(n(i-J,u,p),v.subVectors(h,p)):(n(i+J,u,p),v.subVectors(p,h)),u-J>=0?(n(i,u-J,p),d.subVectors(h,p)):(n(i,u+J,p),d.subVectors(p,h)),f.crossVectors(v,d).normalize(),e.normals.push(f.x,f.y,f.z),e.uvs.push(i,u),Z!==t.resolution&&w!==r.resolution&&(o=Z*g+w,a=Z*g+w+1,c=(Z+1)*g+w+1,l=(Z+1)*g+w,e.indices.push(o,a,l),e.indices.push(a,c,l))}}(t,(function(t,i,s){r[0].value=n[0].start+n[0].range*t,r[1].value=n[1].start+n[1].range*i,s.set(B(e[0],r),B(e[1],r),B(e[2],r))}),n[0],n[1]);break;case 3:!function(e,n,t,r,i){var u,o,a,c,l,f,h,p,v,d,g=new s.Pa4,Z=new s.Pa4,w=new s.Pa4,b=new s.Pa4,m=new s.Pa4,y=t.resolution+1,k=r.resolution+1,x=i.resolution+1,V=0;for(a=0;a<=1;a++){for(f=a,u=0;u<=t.resolution;u++)for(c=u/t.resolution,o=0;o<=r.resolution;o++)n(c,l=o/r.resolution,f,Z),e.vertices.push(Z.x,Z.y,Z.z),c-J>=0?(n(c-J,l,f,w),b.subVectors(Z,w)):(n(c+J,l,f,w),b.subVectors(w,Z)),l-J>=0?(n(c,l-J,f,w),m.subVectors(Z,w)):(n(c,l+J,f,w),m.subVectors(w,Z)),g.crossVectors(b,m).normalize(),e.normals.push(g.x,g.y,g.z),e.uvs.push(c,l),u!==t.resolution&&o!==r.resolution&&(h=u*k+o+V,p=u*k+o+V+1,v=(u+1)*k+o+V+1,d=(u+1)*k+o+V,e.indices.push(h,p,d),e.indices.push(p,v,d));V+=y*k}for(o=0;o<=1;o++){for(l=o,u=0;u<=t.resolution;u++)for(c=u/t.resolution,a=0;a<=i.resolution;a++)n(c,l,f=a/i.resolution,Z),e.vertices.push(Z.x,Z.y,Z.z),c-J>=0?(n(c-J,l,f,w),b.subVectors(Z,w)):(n(c+J,l,f,w),b.subVectors(w,Z)),f-J>=0?(n(c,l,f-J,w),m.subVectors(Z,w)):(n(c,l,f+J,w),m.subVectors(w,Z)),g.crossVectors(b,m).normalize(),e.normals.push(g.x,g.y,g.z),e.uvs.push(c,f),u!==t.resolution&&a!==i.resolution&&(h=u*x+a+V,p=u*x+a+V+1,v=(u+1)*x+a+V+1,d=(u+1)*x+a+V,e.indices.push(h,p,d),e.indices.push(p,v,d));V+=y*x}for(u=0;u<=1;u++){for(c=u,o=0;o<=r.resolution;o++)for(l=o/r.resolution,a=0;a<=i.resolution;a++)n(c,l,f=a/i.resolution,Z),e.vertices.push(Z.x,Z.y,Z.z),l-J>=0?(n(c,l-J,f,w),b.subVectors(Z,w)):(n(c,l+J,f,w),b.subVectors(w,Z)),f-J>=0?(n(c,l,f-J,w),m.subVectors(Z,w)):(n(c,l,f+J,w),m.subVectors(w,Z)),g.crossVectors(b,m).normalize(),e.normals.push(g.x,g.y,g.z),e.uvs.push(l,f),o!==r.resolution&&a!==i.resolution&&(h=o*x+a+V,p=o*x+a+V+1,v=(o+1)*x+a+V+1,d=(o+1)*x+a+V,e.indices.push(h,p,d),e.indices.push(p,v,d));V+=k*x}}(t,(function(t,i,s,u){r[0].value=n[0].start+n[0].range*t,r[1].value=n[1].start+n[1].range*i,r[2].value=n[2].start+n[2].range*s,u.set(B(e[0],r),B(e[1],r),B(e[2],r))}),n[0],n[1],n[2]);break;default:throw new W("Unknown number of parameters. ".concat(n.length," parameters found"))}return console.log("Time taken to generate points = "+(Date.now()-i)+"ms"),t}(o,n))}onmessage=function(e){var n=e.data;R(n.functionInputs,n.parameters)}}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var s=n[r]={exports:{}};return e[r](s,s.exports,t),s.exports}t.m=e,t.x=function(){var e=t.O(void 0,[934],(function(){return t(1723)}));return e=t.O(e)},function(){var e=[];t.O=function(n,r,i,s){if(!r){var u=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],s=e[l][2];for(var o=!0,a=0;a<r.length;a++)(!1&s||u>=s)&&Object.keys(t.O).every((function(e){return t.O[e](r[a])}))?r.splice(a--,1):(o=!1,s<u&&(u=s));if(o){e.splice(l--,1);var c=i();void 0!==c&&(n=c)}}return n}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,i,s]}}(),t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))},t.u=function(e){return"static/js/"+e+".cec5b412.chunk.js"},t.miniCssF=function(e){},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/ShapeBuilderJS/",function(){var e={723:1};t.f.i=function(n,r){e[n]||importScripts(t.p+t.u(n))};var n=self.webpackChunkshapebuilderjs=self.webpackChunkshapebuilderjs||[],r=n.push.bind(n);n.push=function(n){var i=n[0],s=n[1],u=n[2];for(var o in s)t.o(s,o)&&(t.m[o]=s[o]);for(u&&u(t);i.length;)e[i.pop()]=1;r(n)}}(),function(){var e=t.x;t.x=function(){return t.e(934).then(e)}}();t.x()}();
//# sourceMappingURL=723.1e1486ff.chunk.js.map
!function(){"use strict";var n={1723:function(n,e,t){var r=t(885),i=t(7762),s=t(7760),u=t(2982),o=t(7326),a=t(6274),c=t(9359),l=t(136),f=t(9388),p=t(3144),h=t(5671),v=(0,c.Z)("name"),d=(0,c.Z)("imageFileName"),g=(0,c.Z)("functionInputs"),Z=(0,c.Z)("parameters"),b=function(){function n(e,t,r,i){(0,h.Z)(this,n),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),(0,a.Z)(this,v)[v]=e,(0,a.Z)(this,d)[d]=t,(0,a.Z)(this,g)[g]=r,(0,a.Z)(this,Z)[Z]=i}return(0,p.Z)(n,[{key:"name",get:function(){return(0,a.Z)(this,v)[v]}},{key:"imageFileName",get:function(){return(0,a.Z)(this,d)[d]}},{key:"functionInputs",get:function(){return(0,a.Z)(this,g)[g]}},{key:"parameters",get:function(){return(0,a.Z)(this,Z)[Z]}}]),n}(),w=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;(0,h.Z)(this,n),this.start=0,this.end=1,this.name=e,this.resolution=t}return(0,p.Z)(n,[{key:"range",get:function(){return this.end-this.start}},{key:"asObject",value:function(){return{name:this.name,start:this.start,end:this.end,resolution:this.resolution,get range(){return this.end-this.start}}}}]),n}(),m=["x","y","z"],y=/^\s*$/,k="2d-render",x="3d-render",V=(new b("Sine Wave","sine_wave.png",["8(2u-1)","2sin(10u*pi)","0"],[new w("u",100)]),new b("Plane","plane.png",["3(2u-1)","0","3(2v-1)"],[new w("u",10),new w("v",10)]),new b("Sphere (Surface)","sphere.png",["2.5cos(-pi/2+u*pi)cos(-pi+2v*pi)","2.5cos(-pi/2+u*pi)sin(-pi+2v*pi)","2.5sin(-pi/2+u*pi)"],[new w("u"),new w("v")]),new b("Cube (Solid)","cube.png",["1.5(2u-1)","1.5(2w-1)","1.5(2v-1)"],[new w("u",3),new w("v",3),new w("w",3)]),(0,p.Z)((function n(e,t){(0,h.Z)(this,n),this.input=e,this.index=t}))),P=function(n){(0,l.Z)(t,n);var e=(0,f.Z)(t);function t(){var n;(0,h.Z)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))).isNegated=!1,n}return(0,p.Z)(t,[{key:"nonNegatedInput",get:function(){return this.isNegated?this.input.substring(1):this.input}}]),t}(V),O=function(n){(0,l.Z)(t,n);var e=(0,f.Z)(t);function t(){return(0,h.Z)(this,t),e.apply(this,arguments)}return(0,p.Z)(t)}(P),j=(0,c.Z)("absoluteValue"),z=function(n){(0,l.Z)(t,n);var e=(0,f.Z)(t);function t(n,r){var i;return(0,h.Z)(this,t),i=e.call(this,n,r),Object.defineProperty((0,o.Z)(i),j,{writable:!0,value:void 0}),n.endsWith("pi")?((0,a.Z)((0,o.Z)(i),j)[j]=Math.PI,i.isNegated&&((0,a.Z)((0,o.Z)(i),j)[j]=-(0,a.Z)((0,o.Z)(i),j)[j])):(0,a.Z)((0,o.Z)(i),j)[j]=parseFloat(n),i}return(0,p.Z)(t,[{key:"value",get:function(){return(0,a.Z)(this,j)[j]*(this.isNegated?-1:1)}}]),t}(P),M=function(n){(0,l.Z)(t,n);var e=(0,f.Z)(t);function t(n,r){var i;return(0,h.Z)(this,t),(i=e.call(this,n,r)).childTokens=[],i.suffixLength=1,i.prefixLength=i.input.split("(")[0].length+1,i}return(0,p.Z)(t,[{key:"childInput",get:function(){return this.input.substring(this.prefixLength,this.input.length-this.suffixLength)}},{key:"addChildTokens",value:function(n){var e;(e=this.childTokens).push.apply(e,(0,u.Z)(n))}},{key:"processChildrenValue",value:function(n){var e=this.isNegated?-1:1;switch(this.input.substring(0,this.prefixLength-1)){case"sin":return Math.sin(n)*e;case"cos":return Math.cos(n)*e;case"tan":return Math.tan(n)*e;default:return n}}}]),t}(P),I=function(n){(0,l.Z)(t,n);var e=(0,f.Z)(t);function t(n,r){var i;switch((0,h.Z)(this,t),i=e.call(this,n,r),n){case"+":case"-":i.precedence=11;break;default:i.precedence=12}return i}return(0,p.Z)(t,[{key:"processArithmetic",value:function(n,e){switch(this.input){case"+":return n+e;case"-":return n-e;case"/":return n/e;default:return n*e}}}]),t}(V),N=function(n){return y.test(n)},C=/(sin|cos|tan)/,F=/\d+(\.\d+)?/g,T=/pi/g,L=/[+\-*/]/g,S=/\s+/g;function D(n,e){var t=A(n,e),i=(0,r.Z)(t,2),s=i[0],u=i[1];if(u)return[null,u];var o=E(s);return o?[null,o]:[s,null]}function A(n,e){var t,s=[],u=e,o=function(n,e){return s.push(new z(n,e))," ".repeat(n.length)},a=function(n){for(var e,t,r,i,s=[],u=0;u<n.length;u++){if(")"===(t=n[u]))return[s,"Extra closing bracket at index "+u];if("("===t){e=0;for(var o=u+1;o<n.length;o++)if(")"===(r=n[o])){if(!(e>0)){if(o===u+1)return[s,"Bracket at index "+u+" cannot be empty"];i=u-(u>=3&&C.test(n.substring(u-3,u))?3:0),s.push(new M(n.substring(i,o+1),i)),u+=o-u;break}if(o===n.length-1)return[s,"Missing closing bracket for index "+u];e--}else{if(o===n.length-1)return[s,"Missing closing bracket for index "+u];"("===r&&e++}}}return[s,null]}(u),c=(0,r.Z)(a,2),l=c[0],f=c[1];if(f)return[s,f];var p,h=(0,i.Z)(l);try{for(h.s();!(p=h.n()).done;){var v=p.value,d=A(n,v.childInput),g=(0,r.Z)(d,2),Z=g[0],b=g[1];if(b)return[s,b];v.addChildTokens(Z),s.push(v),t=v.index+v.input.length,u=u.substring(0,v.index)+" ".repeat(v.input.length)+u.substring(t)}}catch(k){h.e(k)}finally{h.f()}u=(u=(u=u.replace(F,(function(n,e,t){return o(n,t)}))).replace(T,o)).replace(L,(function(n,e){return s.push(new I(n,e))," ".repeat(n.length)}));var w,m=(0,i.Z)(n.map((function(n){return new RegExp(n.name)})));try{for(m.s();!(w=m.n()).done;){var y=w.value;u=u.replace(y,(function(n,e){return s.push(new O(n,e))," ".repeat(n.length)}))}}catch(k){m.e(k)}finally{m.f()}return u=u.trim(),N(u)?[s.sort((function(n,e){return n.index-e.index})),u]:[s,"Invalid input: "+u.split(S)[0]]}function E(n){for(var e,t,r,i,s=n.length,u=0;u<s;u++){if((t=n[u])instanceof M&&(i=E(t.childTokens)))return i;if(e=u>0?n[u-1]:null,t instanceof P&&e instanceof P)n.splice(u,0,new I("*",t.index)),u+=1,s+=1;else if(r=u<n.length-1?n[u+1]:null,t instanceof I){if("-"===t.input&&!(e instanceof P)&&r instanceof P){r.isNegated=!0,n.splice(u,1),s-=1;continue}if(!(r instanceof P)){if(r instanceof I&&"-"===r.input)continue;return'Invalid token after "'+t.input+'"'}if(!(e instanceof P))return'Invalid token before "'+t.input+'"'}}}function U(n,e){var t;return W(n=n.map((function(n){return n instanceof M?n.processChildrenValue(U(n.childTokens,e)):n instanceof z?n.value:n instanceof O&&(t=e.find((function(e){return e.name===n.input})))?t.value*(n.isNegated?-1:1):n})),12),W(n,11),n[0]}function W(n,e){var t,r,i=n.length;for(r=0;r<i;r++)(t=n[r])instanceof I&&t.precedence===e&&(n[r-1]=t.processArithmetic(n[r-1],n[r+1]),n.splice(r,2),r-=1,i-=2)}var B=function(n){(0,l.Z)(t,n);var e=(0,f.Z)(t);function t(){return(0,h.Z)(this,t),e.apply(this,arguments)}return(0,p.Z)(t)}((0,t(7112).Z)(Error)),R=1e-5;function $(n,e){var t,u,o=[],a=Date.now(),c=(0,i.Z)(n.entries());try{for(c.s();!(u=c.n()).done;){var l=(0,r.Z)(u.value,2),f=l[0],p=l[1];if(t=m[f],N(p))return void postMessage([null,new B("Function ".concat(t,": Function cannot be blank"))]);var h=D(e,p),v=(0,r.Z)(h,2),d=v[0],g=v[1];if(g)return void postMessage([null,new B("Function ".concat(t,": ").concat(g))]);if(!d)return void postMessage([null,new B("Function ".concat(t,": Unknown error while parsing function"))]);o.push(d)}}catch(Z){c.e(Z)}finally{c.f()}console.log("Time taken to parse functions = "+(Date.now()-a)+"ms"),1===e.length?postMessage(function(n,e){for(var t={type:k,points:[]},r=[{name:e.name,value:-1}],i=e.start;i<=e.end;i+=e.range/e.resolution)r[0].value=i,t.points.push(new s.Pa4(U(n[0],r),U(n[1],r),U(n[2],r)));return[t,null]}(o,e[0])):postMessage(function(n,e){var t={type:x,indices:[],vertices:[],normals:[],uvs:[]},r=e.map((function(n){return{name:n.name,value:-1}})),i=Date.now();switch(e.length){case 2:!function(n,e,t,r){for(var i,u,o,a,c,l,f=new s.Pa4,p=new s.Pa4,h=new s.Pa4,v=new s.Pa4,d=new s.Pa4,g=r.resolution+1,Z=0;Z<=t.resolution;Z++){i=Z/t.resolution;for(var b=0;b<=r.resolution;b++)e(i,u=b/r.resolution,p),n.vertices.push(p.x,p.y,p.z),i-R>=0?(e(i-R,u,h),v.subVectors(p,h)):(e(i+R,u,h),v.subVectors(h,p)),u-R>=0?(e(i,u-R,h),d.subVectors(p,h)):(e(i,u+R,h),d.subVectors(h,p)),f.crossVectors(v,d).normalize(),n.normals.push(f.x,f.y,f.z),n.uvs.push(i,u),Z!==t.resolution&&b!==r.resolution&&(o=Z*g+b,a=Z*g+b+1,c=(Z+1)*g+b+1,l=(Z+1)*g+b,n.indices.push(o,a,l),n.indices.push(a,c,l))}}(t,(function(t,i,s){r[0].value=e[0].start+e[0].range*t,r[1].value=e[1].start+e[1].range*i,s.set(U(n[0],r),U(n[1],r),U(n[2],r))}),e[0],e[1]);break;case 3:!function(n,e,t,r,i){var u,o,a,c,l,f,p,h,v,d,g=new s.Pa4,Z=new s.Pa4,b=new s.Pa4,w=new s.Pa4,m=new s.Pa4,y=t.resolution+1,k=r.resolution+1,x=i.resolution+1,V=0;for(a=0;a<=1;a++){for(f=a,u=0;u<=t.resolution;u++)for(c=u/t.resolution,o=0;o<=r.resolution;o++)e(c,l=o/r.resolution,f,Z),n.vertices.push(Z.x,Z.y,Z.z),c-R>=0?(e(c-R,l,f,b),w.subVectors(Z,b)):(e(c+R,l,f,b),w.subVectors(b,Z)),l-R>=0?(e(c,l-R,f,b),m.subVectors(Z,b)):(e(c,l+R,f,b),m.subVectors(b,Z)),g.crossVectors(w,m).normalize(),n.normals.push(g.x,g.y,g.z),n.uvs.push(c,l),u!==t.resolution&&o!==r.resolution&&(p=u*k+o+V,h=u*k+o+V+1,v=(u+1)*k+o+V+1,d=(u+1)*k+o+V,n.indices.push(p,h,d),n.indices.push(h,v,d));V+=y*k}for(o=0;o<=1;o++){for(l=o,u=0;u<=t.resolution;u++)for(c=u/t.resolution,a=0;a<=i.resolution;a++)e(c,l,f=a/i.resolution,Z),n.vertices.push(Z.x,Z.y,Z.z),c-R>=0?(e(c-R,l,f,b),w.subVectors(Z,b)):(e(c+R,l,f,b),w.subVectors(b,Z)),f-R>=0?(e(c,l,f-R,b),m.subVectors(Z,b)):(e(c,l,f+R,b),m.subVectors(b,Z)),g.crossVectors(w,m).normalize(),n.normals.push(g.x,g.y,g.z),n.uvs.push(c,f),u!==t.resolution&&a!==i.resolution&&(p=u*x+a+V,h=u*x+a+V+1,v=(u+1)*x+a+V+1,d=(u+1)*x+a+V,n.indices.push(p,h,d),n.indices.push(h,v,d));V+=y*x}for(u=0;u<=1;u++){for(c=u,o=0;o<=r.resolution;o++)for(l=o/r.resolution,a=0;a<=i.resolution;a++)e(c,l,f=a/i.resolution,Z),n.vertices.push(Z.x,Z.y,Z.z),l-R>=0?(e(c,l-R,f,b),w.subVectors(Z,b)):(e(c,l+R,f,b),w.subVectors(b,Z)),f-R>=0?(e(c,l,f-R,b),m.subVectors(Z,b)):(e(c,l,f+R,b),m.subVectors(b,Z)),g.crossVectors(w,m).normalize(),n.normals.push(g.x,g.y,g.z),n.uvs.push(l,f),o!==r.resolution&&a!==i.resolution&&(p=o*x+a+V,h=o*x+a+V+1,v=(o+1)*x+a+V+1,d=(o+1)*x+a+V,n.indices.push(p,h,d),n.indices.push(h,v,d));V+=k*x}}(t,(function(t,i,s,u){r[0].value=e[0].start+e[0].range*t,r[1].value=e[1].start+e[1].range*i,r[2].value=e[2].start+e[2].range*s,u.set(U(n[0],r),U(n[1],r),U(n[2],r))}),e[0],e[1],e[2]);break;default:return[null,new B("Unknown number of parameters. ".concat(e.length," parameters found"))]}return console.log("Time taken to generate points = "+(Date.now()-i)+"ms"),[t,null]}(o,e))}onmessage=function(n){var e=n.data;$(e.functionInputs,e.parameters)}}},e={};function t(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return n[r](s,s.exports,t),s.exports}t.m=n,t.x=function(){var n=t.O(void 0,[934],(function(){return t(1723)}));return n=t.O(n)},function(){var n=[];t.O=function(e,r,i,s){if(!r){var u=1/0;for(l=0;l<n.length;l++){r=n[l][0],i=n[l][1],s=n[l][2];for(var o=!0,a=0;a<r.length;a++)(!1&s||u>=s)&&Object.keys(t.O).every((function(n){return t.O[n](r[a])}))?r.splice(a--,1):(o=!1,s<u&&(u=s));if(o){n.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var l=n.length;l>0&&n[l-1][2]>s;l--)n[l]=n[l-1];n[l]=[r,i,s]}}(),t.d=function(n,e){for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.f={},t.e=function(n){return Promise.all(Object.keys(t.f).reduce((function(e,r){return t.f[r](n,e),e}),[]))},t.u=function(n){return"static/js/"+n+".cec5b412.chunk.js"},t.miniCssF=function(n){},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/shapebuilderjs/",function(){var n={723:1};t.f.i=function(e,r){n[e]||importScripts(t.p+t.u(e))};var e=self.webpackChunkshapebuilderjs=self.webpackChunkshapebuilderjs||[],r=e.push.bind(e);e.push=function(e){var i=e[0],s=e[1],u=e[2];for(var o in s)t.o(s,o)&&(t.m[o]=s[o]);for(u&&u(t);i.length;)n[i.pop()]=1;r(e)}}(),function(){var n=t.x;t.x=function(){return t.e(934).then(n)}}();t.x()}();
//# sourceMappingURL=723.c5de7fee.chunk.js.map